(this.webpackJsonphoopitapp=this.webpackJsonphoopitapp||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/b-ball.15d3d634.png"},20:function(e,t,a){},43:function(e,t,a){e.exports=a.p+"static/media/hoopitapp-logo.7a97933b.png"},51:function(e,t,a){e.exports=a(83)},56:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),s=a.n(l),o=(a(56),a(21)),c=a(3),i=a(4),m=a(6),u=a(5),d=(a(20),a(29),a(57),a(1)),p=a.n(d),g=a(7),h="http://localhost:5000/api",f=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={loggedInUser:""},e.handleEditProfile=function(t){t.preventDefault();var a=t.target.changeName.value,n=t.target.changeCity.value,r=e.props.loggedInUser._id;a&&!n?p.a.post("".concat(h,"/edit-profile/").concat(r),{username:a,location:e.props.loggedInUser.location},{withCredentials:!0}).then((function(e){console.log("Profile Edited"+e.data)})).catch((function(e){console.log(e)})):!a&&n?p.a.post("".concat(h,"/edit-profile/").concat(r),{username:e.props.loggedInUser.username,location:n},{withCredentials:!0}).then((function(e){console.log("Profile Edited"+e.data)})).catch((function(e){console.log(e)})):a||n?p.a.post("".concat(h,"/edit-profile/").concat(r),{username:a,location:n},{withCredentials:!0}).then((function(e){console.log("Profile Edited"+e.data)})).catch((function(e){console.log(e)})):p.a.post("".concat(h,"/edit-profile/").concat(r),{username:e.props.loggedInUser.username,location:e.props.loggedInUser.location},{withCredentials:!0}).then((function(e){console.log("Profile Edited"+e.data)})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getUser(),console.log(this.state),console.log("Games from User Main:   ---   "+this.state.games)}},{key:"getUser",value:function(){var e=this;p.a.get("".concat(h,"/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"form-container",onSubmit:this.handleEditProfile},r.a.createElement("h1",null,"Edit Profile Page"),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"changeName"}),r.a.createElement("input",{type:"text",class:"form-control",id:"changeName","aria-describedby":"changeName",placeholder:"Change Name",name:"changeName"}),r.a.createElement("small",{id:"emailHelp",class:"form-text text-muted"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"changeCity"}),r.a.createElement("input",{type:"text",class:"form-control",id:"changeCity",placeholder:"Change City",name:"changeCity"})),r.a.createElement("button",{type:"submit",class:"btn btn-primary"},"Submit")))}}]),a}(r.a.Component),y=a(27),v=a(15),E=a.n(v),b=(a(43),a(31)),w=a.n(b),N=a(46),I=a(24),O=a(19);function k(e){var t=e.panTo,a=Object(I.a)({requestOptions:{location:{lat:function(){return 52.52},lng:function(){return 13.405}},radius:2e5}}),n=a.ready,l=a.value,s=a.suggestions,o=s.status,c=s.data,i=a.setValue,m=a.clearSuggestions;return r.a.createElement("div",{className:"map-search"},r.a.createElement(O.a,{onSelect:function(){var e=Object(N.a)(w.a.mark((function e(a){var n,r,s,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(a,!1),m(),e.prev=2,e.next=5,Object(I.b)({address:a});case 5:return n=e.sent,e.next=8,Object(I.c)(n[0]);case 8:r=e.sent,s=r.lat,o=r.lng,t({lat:s,lng:o,address:a,value:l}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0+"ERROR!");case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement(O.b,{value:l,onChange:function(e){i(e.target.value),console.log(l)},disabled:!n,placeholder:"Enter an address"}),r.a.createElement(O.e,null,r.a.createElement(O.c,null,"OK"===o&&c.map((function(e){var t=e.id,a=e.description;return r.a.createElement(O.d,{key:t,value:a})}))))))}var j=a(2),T=a(25),x=(a(80),[{featureType:"administrative",elementType:"geometry",stylers:[{color:"#a7a7a7"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#737373"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffffff"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#dadada"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"on"},{color:"#ffa000"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffa000"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#ffa000"},{visibility:"on"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#ffffff"},{visibility:"off"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{visibility:"off"},{color:"#ffa000"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffa000"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#ffa000"},{weight:"0.44"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffa000"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#ffa000"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffcf7f"},{weight:1.8}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#ffa000"}]},{featureType:"transit",elementType:"all",stylers:[{color:"#808080"},{visibility:"off"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#abd5fa"}]}]),S=["places"],U={width:"80vw",height:"60vh"},C={width:"100%",height:"100%",position:"absolute"};function P(e){var t=Object(T.d)({googleMapsApiKey:"AIzaSyDJ_D47clTFho3rq8csXDFz3Fie4GmHGxY",libraries:S}),a=t.isLoaded,n=t.loadError,l=r.a.useState([]),s=Object(y.a)(l,2),c=s[0],i=s[1],m=r.a.useState(null),u=Object(y.a)(m,2),d=u[0],g=u[1],f=r.a.useState({hits:[]}),v=Object(y.a)(f,2),b=v[0],w=v[1];console.log(b.data+"ogugvk");var N=r.a.useRef(),I=r.a.useCallback((function(t){N.current=t,console.log(e.games+"THESE HERE GAMES!"),p.a.get("".concat(h,"/user-main"),{withCredentials:!0}).then((function(e){w(e),e.data.map((function(e){return i((function(t){return[].concat(Object(o.a)(t),[{lat:e.lat,lng:e.lng,time:new Date}])}))}))}))}),[]),O=r.a.useCallback((function(e){var t=e.lat,a=e.lng;N.current.panTo({lat:t,lng:a}),N.current.setZoom(14)}),[]);if(n)return"Error loading maps";if(!a)return"Loading Maps";var P={styles:x,disableDefaultUI:!0,zoomControl:!0};return r.a.createElement("div",{className:"front-page-map-container"},r.a.createElement(k,{panTo:O}),r.a.createElement(A,{panTo:O}),r.a.createElement("div",{style:{width:"100%",marginLeft:0}},r.a.createElement(T.a,{styles:C,mapContainerStyle:U,zoom:10,center:{lat:52.52,lng:13.405},options:P,onLoad:I},c.map((function(e){return r.a.createElement(T.c,{key:e.time.toISOString,position:{lat:e.lat,lng:e.lng},icon:{url:E.a,scaledSize:new window.google.maps.Size(30,30),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(15,15)},onClick:function(){g(e)}})})),d?r.a.createElement(T.b,{position:{lat:d.lat,lng:d.lng},onCloseClick:function(){g(null)}},r.a.createElement("div",null,b.data.map((function(e){if(e.lat===d.lat)return r.a.createElement("div",{className:"card each-card"},r.a.createElement(j.b,{to:"/game-detail/".concat(e._id)},r.a.createElement("p",null," Created By: ",e.createdBy),r.a.createElement("p",null," Location: ",e.location),r.a.createElement("p",null,"Time: ",e.time),r.a.createElement("button",null)))})))):null)))}function A(e){var t=e.panTo;return r.a.createElement("button",{className:"locate-btn",onClick:function(){navigator.geolocation.getCurrentPosition((function(e){t({lat:e.coords.latitude,lng:e.coords.longitude})}),(function(){return null}))}})}var D=a(49),G=a.n(D),M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({setStrokeLength:!0})}))}},{key:"render",value:function(){var e=this.state.setStrokeLength,t=this.props,a=t.className,n=t.radius,l=t.progress,s=t.strokeWidth,o=(t.dimension,t.color),c=t.number,i=t.text,m=Math.min(n,85),u=6.28*m,d=e?u/100*l:0;return r.a.createElement("div",{className:G()("radial-chart",a,{"no-progress":0===d})},r.a.createElement("svg",{viewBox:"0 0 180 180",width:"50",height:"50"},r.a.createElement("text",{textAnchor:"middle",x:"90",y:"85",style:{fontSize:"40px"}},c),r.a.createElement("text",{textAnchor:"middle",x:"90",y:"120",style:{fontSize:"28px",maxWidth:"5ch"}},i),r.a.createElement("circle",{className:"radial-chart-total",stroke:o,strokeWidth:s,fill:"none",cx:"90",cy:"90",r:m}),r.a.createElement("circle",{className:"radial-chart-progress",stroke:o,strokeWidth:s,strokeDasharray:"".concat(d,",").concat(u),strokeLinecap:"round",fill:"none",cx:"90",cy:"90",r:m})))}}]),a}(n.Component);M.defaultProps={radius:90,progress:100,strokeWidth:5,dimension:180,color:"#040404"};var L=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={games:[]},e.getGames=function(){p.a.get("".concat(h,"/main"),{withCredentials:!0}).then((function(t){e.setState({games:t.data}),console.log("GOT GAMES")})).catch((function(t){401===t.response.status&&e.props.history.push("/")}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getGames()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron jumbotron-fluid"},r.a.createElement("div",{class:"container"},r.a.createElement("h4",{class:"display-6 primary-font"},"JOIN A BASKETBALL TEAM ANYWHERE YOU ARE"),r.a.createElement("p",{class:"lead"}))),r.a.createElement("div",{className:"home-div"},r.a.createElement("div",{class:"container home-container second-font"},r.a.createElement("h5",{class:"display-6"},"Discover games ",r.a.createElement("br",null),"around your area"),r.a.createElement("p",{class:"lead"})),r.a.createElement("div",{class:"container home-container"},r.a.createElement("h7",{class:"display-6"},"Take part in one of the games played near you, get to meet your team for the match of the day "),r.a.createElement("p",{class:"lead"})),r.a.createElement("div",null,this.state.games.sort((function(){return.5-Math.random()})).slice(0,3).map((function(t,a){return r.a.createElement("div",{class:"card each-card home-cards"},r.a.createElement("div",{key:a,id:"game"},r.a.createElement("img",{class:"card-img-top",src:"https://source.unsplash.com/286x180/?basketball,court",alt:"..."}),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-text"},r.a.createElement("p",null,"Date: ",t.date),r.a.createElement("p",null,"Location: ",t.location),r.a.createElement("p",null,"Created By: ",t.createdBy)),r.a.createElement("div",{className:"chart-div"},r.a.createElement(M,{progress:t.players.length/t.maxPlayers*100,color:"#3c71d0",number:t.players.length+"/"+t.maxPlayers,text:t.players.length+2===t.maxPlayers||t.players.length+1===t.maxPlayers?"Almost Full":"Full"}))),r.a.createElement("br",null)),r.a.createElement(j.b,{to:e.props.loggedInUser?"/".concat(t._id,"/admin"):"/sign-up"},r.a.createElement("button",{className:" card-buttons"},"View Details")))})))))}}]),a}(r.a.Component);function B(e){return r.a.createElement("div",{id:"content-wrap"},r.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-custom navbar-light bg-light"},r.a.createElement(j.b,{to:"/"},r.a.createElement("img",{src:E.a,width:"50",height:"50",class:"d-inline-block align-top",alt:""})),r.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{class:"navbar-toggler-icon"})),e.loggedInUser?r.a.createElement("div",{class:"collapse navbar-collapse justify-content-end ",id:"navbarNav"},r.a.createElement("ul",{class:"navbar-nav"},r.a.createElement("li",{class:"nav-item active"},r.a.createElement(j.b,{className:"nav-link",to:"/user-main"},"Home",r.a.createElement("span",{class:"sr-only"},"(current)"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(j.b,{className:"nav-link ",to:"/team-info"},"Teams")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(j.b,{className:"nav-link",to:"/edit-profile"},e.loggedInUser.username)),r.a.createElement("li",{class:"nav-item"},r.a.createElement("button",{className:"nav-link logout-btn btn-primary btn",onClick:e.onLogout},"Logout")))):r.a.createElement("div",{class:"collapse navbar-collapse justify-content-end ",id:"navbarNav"},r.a.createElement("ul",{class:"navbar-nav nav-content"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(j.b,{className:"nav-link",to:"/sign-in"},"Sign in")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(j.b,{className:"nav-link",to:"/sign-up"},"Sign up"))))))}var F=a(22);function _(e){var t;return r.a.createElement("form",{onSubmit:e.onSignIn,className:"form-container card"},r.a.createElement("img",{className:"bball",src:E.a}),r.a.createElement("h2",null,"Please Sign In"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"}),r.a.createElement("input",(t={className:"input",type:"email"},Object(F.a)(t,"className","form-control"),Object(F.a)(t,"id","exampleInputEmail1"),Object(F.a)(t,"name","email"),Object(F.a)(t,"aria-describedby","emailHelp"),Object(F.a)(t,"placeholder","Email address"),t))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"}),r.a.createElement("input",{name:"password",type:"password",className:"form-control input",id:"exampleInputPassword1",placeholder:"Password"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))}function H(e){return r.a.createElement("form",{onSubmit:e.onSignUp,className:"form-container"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputUsername"},"Username"),r.a.createElement("input",{type:"text",className:"form-control",id:"exampleInputUsername",name:"username"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{type:"email",className:"form-control input",id:"exampleInputEmail1",name:"email","aria-describedby":"emailHelp"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputUsername"},"City"),r.a.createElement("input",{type:"text",className:"form-control input",id:"location",name:"location"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{name:"password",type:"password",className:"form-control input",id:"exampleInputPassword1"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))}var R=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={games:[]},e.getGames=function(){p.a.get("".concat(h,"/user-main"),{withCredentials:!0}).then((function(t){e.setState({games:t.data})})).catch((function(t){401===t.response.status&&e.props.history.push("/")}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getGames()}},{key:"render",value:function(){var e=this;return this.props.loggedInUser?r.a.createElement("div",null,r.a.createElement("div",{className:"main-header"},r.a.createElement("h2",{className:"hello-text"},"Hello ",this.props.loggedInUser.username),r.a.createElement(j.b,{to:"/create-game"},r.a.createElement("button",{className:"btn btn-primary create-btn"},"Create A Game"))),r.a.createElement("div",{className:"user-main-main"},r.a.createElement("div",{className:"user-main-div"},r.a.createElement("h4",{className:"title-header"},"Games Near You"),r.a.createElement("div",{class:"row "},r.a.createElement("div",{class:"games-near-you"},r.a.createElement(P,{loggedInUser:this.props.loggedInUser})))),r.a.createElement("div",null,r.a.createElement("h4",{className:"title-header"},"Your Games"),r.a.createElement("div",{className:"your-games"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{class:"games-near-you"},this.state.games.map((function(t,a){if(t.createdBy===e.props.loggedInUser.username)return r.a.createElement("div",{class:"card each-card"},r.a.createElement("div",{key:a,id:"game"},r.a.createElement("img",{class:"card-img-top",src:"https://source.unsplash.com/286x180/?basketball,court",alt:"..."}),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-text"},r.a.createElement("p",null,"Date: ",t.date),r.a.createElement("p",null,"Location: ",t.location),r.a.createElement("p",null,"Created By: ",t.createdBy)),r.a.createElement("div",{className:"chart-div"},r.a.createElement(M,{progress:t.players.length/t.maxPlayers*100,color:"#3c71d0",number:t.players.length+"/"+t.maxPlayers,text:t.players.length+2===t.maxPlayers||t.players.length+1===t.maxPlayers?"Almost Full":"Full"}))),r.a.createElement("br",null)),r.a.createElement(j.b,{to:"/".concat(t._id,"/admin")},r.a.createElement("button",{className:"btn btn-primary card-buttons"},"View Details")))}))))),r.a.createElement("h4",{className:"title-header"},"Upcoming Games For You"),r.a.createElement("div",{className:"your-games"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{class:"games-near-you"},this.state.games.map((function(t,a){if(t.players.includes(e.props.loggedInUser._id))return r.a.createElement("div",{class:"card each-card"},r.a.createElement("div",{key:a,id:"game"},r.a.createElement("img",{class:"card-img-top",src:"https://source.unsplash.com/286x180/?basketball,court",alt:"..."}),r.a.createElement("div",{className:"card-content"},r.a.createElement("p",null,"Date: ",t.date),r.a.createElement("p",null,"Location: ",t.location),r.a.createElement("p",null,"Created By: ",t.createdBy),r.a.createElement("p",{className:t.maxPlayers>t.players.length?"text-success":"text-danger"},"Players: ",t.players.length,"/",t.maxPlayers),t.maxPlayers===t.players.length?r.a.createElement("p",{className:"text-danger"},"FULL"):r.a.createElement("p",null)),r.a.createElement("br",null)),r.a.createElement(j.b,{to:"/game-detail/".concat(t._id)},r.a.createElement("button",{className:"btn btn-primary card-buttons"},"View Details")))})))))))):r.a.createElement(g.a,{to:"/sign-in"})}}]),a}(r.a.Component),W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={teams:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(h,"/teams"),{withCredentials:!0}).then((function(t){e.setState({teams:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return this.props.loggedInUser?r.a.createElement("div",{className:"create-game-main"},r.a.createElement("h1",null,"Create Game Page"),r.a.createElement("form",{onSubmit:this.props.onAddGame},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Date"},"Date"),r.a.createElement("input",{type:"date",className:"form-control",name:"date",id:"date",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"location"},"location"),r.a.createElement("div",null,r.a.createElement(k,{panTo:this.props.handleLocationInput}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"maxPlayers"},"Max Players"),r.a.createElement("input",{type:"text",className:"form-control",name:"maxPlayers",id:"maxPlayers",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"team"},"Use a Team?"),r.a.createElement("select",{name:"team",id:"team"},r.a.createElement("option",null,"No team selected"),this.state.teams.map((function(t,a){if(e.props.loggedInUser.username===t.owner)return r.a.createElement("option",{key:a,value:t.players},t.teamName)})))),r.a.createElement("input",{type:"file",name:"image"}),r.a.createElement("input",{type:"time",name:"time"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Create"))):r.a.createElement(g.a,{to:"/sign-in"})}}]),a}(r.a.Component),q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={player:"",game:""},e.handleJoinGame=function(){var t=e.state.game,a=t.location,n=t.date,r=t.createdBy,l=e.state.game.players.concat(e.state.player);e.state.game.players.includes(e.state.player)||(e.state.game.players.length!==e.state.game.maxPlayers?(e.sendNewPlayers(),e.setState({game:{location:a,date:n,createdBy:r,players:l}},(function(){e.props.history.push("/user-main")}))):alert("Game is full."))},e.sendNewPlayers=function(){var t=e.props.match.params.gameId;p.a.get("".concat(h,"/join-game/").concat(t),{withCredentials:!0}).then((function(e){})).catch((function(e){console.log(e+"ERRRRRRR")}))},e.handleQuitGame=function(t){var a=t.target.value;console.log("gameId:"+a),console.log("user "+e.props.loggedInUser._id),window.confirm("Are really a quitter?")&&p.a.get("".concat(h,"/quit-game/").concat(a),{withCredentials:!0}).then((function(t){console.log(t.data+"success"),e.props.history.push("/user-main")})).catch((function(e){console.log("Game delete error client side"+e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.gameId;p.a.get("".concat(h,"/game-detail/").concat(t),{withCredentials:!0}).then((function(t){e.setState({game:t.data,player:e.props.loggedInUser.username}),console.log(t.data+"SBDI/&&/&&/&&&&&66666")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){if(!this.props.loggedInUser)return r.a.createElement(g.a,{to:"/sign-in"});var e=this.state.game,t=e.location,a=e.date,n=e.createdBy,l=e.players,s=e._id;console.log("players:  "+typeof l);for(var o=[],c=0;c<this.props.users.length;c++)for(var i in l)console.log(l[i]),this.props.users[c]._id===l[i]&&o.push(this.props.users[c].username);return console.log(o),r.a.createElement("div",{className:"game-detail-page"},r.a.createElement("div",{className:"game-card card"},r.a.createElement("h1",null,"Game Detail Page"),r.a.createElement("p",null,"Location: ",t),r.a.createElement("p",null,"Date: ",a),r.a.createElement("p",null,"Created By: ",n),r.a.createElement("p",null,"Players: ",o.map((function(e){return e}))),r.a.createElement("div",null,o.includes(this.props.loggedInUser.username)?r.a.createElement("div",null,r.a.createElement("p",null,"You are scheduled to play this game."),r.a.createElement("button",{className:"btn btn-danger",value:s,onClick:this.handleQuitGame},"Leave Game")):r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleJoinGame,type:"submit"},"Join"))))}}]),a}(r.a.Component),J=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={game:"",team:""},e.saveTeam=function(t){t.preventDefault();var a=e.props.match.params.gameId,n=e.props.loggedInUser.username,r=t.target.teamName.value,l=e.props.loggedInUser.location,s=e.state.game.players;e.state.game.maxPlayers===e.state.game.players.length?p.a.post("".concat(h,"/").concat(a,"/save-team"),{owner:n,teamName:r,hoometown:l,players:s},{withCredentials:!0}).then((function(t){e.setState({team:{teamName:r,players:s}}),e.props.history.push("/team-info")})).catch((function(e){console.log(e+"Axios Error!!!!")})):alert("Game must be full to form a team!")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("game::::"+this.state.game);var t=this.props.match.params.gameId;p.a.get("".concat(h,"/game-detail/").concat(t),{withCredentials:!0}).then((function(t){e.setState({game:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){for(var e=this.state.game.players,t=[],a=0;a<this.props.users.length;a++)for(var n in e)this.props.users[a]._id===e[n]&&t.push(this.props.users[a].username);return r.a.createElement("div",{className:"game-detail-page"},r.a.createElement("h1",null,"Team Detail Page"),r.a.createElement("form",{onSubmit:this.saveTeam},r.a.createElement("input",{type:"text",placeholder:"Name your team?",name:"teamName",id:"teamName",required:!0}),r.a.createElement("div",{className:"team-players"},r.a.createElement("div",null,r.a.createElement("h4",null,"Players:"),t.map((function(e){return r.a.createElement("p",null,e)}))),r.a.createElement("button",{className:"btn btn-primary create-team-btn"},"Save Team"))))}}]),a}(r.a.Component),z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={player:"",game:""},e.cancelGame=function(){var t=e.props.match.params.gameId;window.confirm("Are you sure you want to cancel this team?")&&p.a.delete("".concat(h,"/").concat(t,"/admin/cancel-game"),{withCredentials:!0}).then((function(t){e.props.history.push("/user-main"),console.log("Client Side works to delete game "),e.setState({teams:t.data})})).catch((function(e){console.log("Something went wrong deleting game team on the client side"+e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.gameId;p.a.get("".concat(h,"/game-detail/").concat(t),{withCredentials:!0}).then((function(t){e.setState({game:t.data,player:e.props.loggedInUser.username})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){if(!this.props.loggedInUser)return r.a.createElement(g.a,{to:"/sign-in"});var e=this.state.game,t=e.location,a=e.date,n=e.createdBy,l=e.players,s=e._id;console.log("players:  "+typeof l);for(var o=[],c=0;c<this.props.users.length;c++)for(var i in l)console.log(l[i]),this.props.users[c]._id===l[i]&&o.push(this.props.users[c].username);return console.log(o),r.a.createElement("div",{className:"game-detail-page"},r.a.createElement("div",{className:"game-card card"},r.a.createElement("h1",null,"Game Detail Page Admin"),r.a.createElement("p",null,"Location: ",t),r.a.createElement("p",null,"Date: ",a),r.a.createElement("p",null,"Created By: ",n),r.a.createElement("p",null,"Players: ",o.map((function(e){return e})))),r.a.createElement(j.b,{to:"/".concat(s,"/admin/team-detail")},r.a.createElement("button",{className:"btn btn-primary",onClick:this.makeTeam,type:"submit"},"Save Group as Team")),r.a.createElement("br",null),r.a.createElement(j.b,{to:"/".concat(s,"/admin/cancel-game")},r.a.createElement("button",{className:"btn btn-primary",onClick:this.cancelGame,type:"submit"},"Cancel Game")))}}]),a}(r.a.Component),Y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={message:""},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{action:".",onSubmit:function(t){t.preventDefault(),e.props.onSubmitMessage(e.state.message),e.setState({message:""})}},r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Enter message...",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value})}}),r.a.createElement("input",{type:"submit",value:"Send"}))))}}]),a}(n.Component),Q=function(e){var t=e.name,a=e.message,n=e.loggedInUser;return r.a.createElement("div",{className:n.username.split(" ").slice(0,-1).join(" ")===t?"chat-container":"chat-container darker"},r.a.createElement("img",{src:E.a,alt:"Avatar",className:n.username.split(" ").slice(0,-1).join(" ")===t?"right":""}),r.a.createElement("p",null,r.a.createElement("strong",{className:n.username.split(" ").slice(0,-1).join(" ")===t?"user-chat-name":""},n.username),":  ",r.a.createElement("em",null,a)))},V="ws://localhost:3030",K=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={name:e.props.loggedInUser.username,messages:[]},e.ws=new WebSocket(V),e.addMessage=function(t){e.setState((function(e){return{messages:[t].concat(Object(o.a)(e.messages))}})),console.log(e.state.messages+"WHAT IS THIS?")},e.submitMessage=function(t){var a=new Date,n={name:e.props.loggedInUser.username.split(" ").slice(0,-1).join(" "),message:t,date:a};e.ws.send(JSON.stringify(n)),e.addMessage(n)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.ws.onopen=function(){console.log("connected")},this.ws.onmessage=function(t){var a=JSON.parse(t.data);e.addMessage(a),console.log(t.data+"WHAT IS THIS?")},this.ws.onclose=function(){console.log("disconnected"),e.setState({ws:new WebSocket(V)})}}},{key:"render",value:function(){var e=this;return this.props.loggedInUser?r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Hello ",this.props.loggedInUser.username),r.a.createElement("div",{className:"messages-container"},this.state.messages.map((function(t,a){return r.a.createElement(Q,{key:a,message:t.message,name:t.name,loggedInUser:e.props.loggedInUser})}))),r.a.createElement("div",{className:"chat-input "},r.a.createElement(Y,{ws:this.ws,onSubmitMessage:function(t){return e.submitMessage(t)}}))):r.a.createElement(g.a,{to:"/sign-in"})}}]),a}(n.Component),X=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App chat-box"},r.a.createElement("h4",{className:"App-title"},"Welcome to Hoop Chat"),r.a.createElement("div",null,r.a.createElement(K,{loggedInUser:this.props.loggedInUser})))}}]),a}(n.Component),Z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={team:""},e.openForm=function(){document.getElementById("myForm").style.display="block"},e.closeForm=function(){document.getElementById("myForm").style.display="none"},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.teamId;p.a.get("".concat(h,"/each-team/").concat(t),{withCredentials:!0}).then((function(t){e.setState({team:t.data}),console.log(e.state)})).catch((function(e){console.log("Error getting team:  "+e)})),console.log(t)}},{key:"render",value:function(){var e=this.state.team,t=e.owner,a=e.teamName,n=e.homeTown,l=(e.gamesPlayed,e.players),s=[];for(var o in l)s.push(l[o]);return r.a.createElement("div",{className:"games-near-you main-header"},r.a.createElement("h1",null,a),r.a.createElement("div",{className:"card game-card "},r.a.createElement("p",null,"Owner: ",t),r.a.createElement("p",null,"Hometown: ",n),r.a.createElement("p",null,"Players: ",s.map((function(e){return e.username})))),r.a.createElement(X,{loggedInUser:this.props.loggedInUser}))}}]),a}(r.a.Component),$=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={teams:[]},e.handleQuitTeam=function(t,a,n){var r=t,l=a;window.confirm("Are you sure you want to quit the team ".concat(r,"?"))&&p.a.post("".concat(h,"/quit-team/").concat(l),{},{withCredentials:!0}).then((function(t){e.props.history.push("/user-main"),e.setState({teams:t.data})})).catch((function(e){console.log("Something went wrong deleting from team on the client side"+e)}))},e.handleDisbandTeam=function(t){var a=t.target.value;console.log(a),window.confirm("Are you sure you want to diband this team?")&&p.a.delete("".concat(h,"/disband-team/").concat(a),{withCredentials:!0}).then((function(t){e.props.history.push("/user-main"),console.log("Client Side works to delete team "),e.setState({teams:t.data})})).catch((function(e){console.log("Something went wrong deleting team on the client side"+e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.state.teams+"These are teams!"),p.a.get("".concat(h,"/teams"),{withCredentials:!0}).then((function(t){e.setState({teams:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;if(!this.props.loggedInUser)return r.a.createElement(g.a,{to:"/sign-in"});var t=[],a=[];this.state.teams.length&&this.state.teams.map((function(e){e.players.forEach((function(e){t.push(e),console.log(e)}))}));for(var n=0;n<this.props.users.length;n++)for(var l=0;l<t.length;l++)this.props.users[n]._id===t[l]&&a.push(this.props.users[n].username);console.log(a);var s=a.filter((function(e,t,a){return a.indexOf(e)==t}));return r.a.createElement("div",{className:"game-detail-page row"},r.a.createElement("h1",null,"Teams Info Page"),r.a.createElement("div",{className:"games-near-you"},this.state.teams.map((function(t,a){if(t.players.includes(e.props.loggedInUser._id))return r.a.createElement("div",{key:a,className:"card each-card team-info-card"},r.a.createElement(j.b,{to:"/each-team/".concat(t._id)},r.a.createElement("p",null,"Team Name: ",t.teamName)),r.a.createElement("p",null,"Owner: ",e.props.loggedInUser.username!==t.owner?t.owner:"You"),r.a.createElement("p",null,"Home Town: ",t.homeTown),r.a.createElement("p",null,"Games Played: ",t.gamesPlayed?t.gamesPlayed:0),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Players:")),s.map((function(e){return r.a.createElement("p",null,e)}))),e.props.loggedInUser.username===t.owner?r.a.createElement("button",{className:"btn btn-primary quit-team-btn",value:t._id,onClick:e.handleDisbandTeam},"Disband Team"):r.a.createElement("button",{className:"btn btn-primary quit-team-btn",value:(t.teamName,t._id),onClick:e.handleQuitTeam.bind(e,t.teamName,t._id)},"Quit Team"))}))))}}]),a}(r.a.Component),ee=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={loggedInUser:"",games:[],users:[],location:"",city:"",lat:null,lng:null},e.getGames=function(){p.a.get("".concat(h,"/main"),{withCredentials:!0}).then((function(t){e.setState({games:t.data})})).catch((function(t){401===t.response.status&&e.props.history.push("/")}))},e.handleSignUp=function(t){t.preventDefault();var a=t.target.email.value,n=t.target.username.value,r=t.target.password.value,l=t.target.location.value;p.a.post("".concat(h,"/sign-up"),{email:a,username:n,password:r,location:l},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/user-main")}))})).catch((function(e){console.log(e)}))},e.handleSignIn=function(t){t.preventDefault();var a=t.target.email.value,n=t.target.password.value;p.a.post("".concat(h,"/sign-in"),{email:a,password:n},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/user-main")}))}))},e.handleLogout=function(){console.log(document.cookie),p.a.post("".concat(h,"/logout"),{},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:null},(function(){e.props.history.push("/")}))}))},e.handleLocationInput=function(t){e.setState({location:t.address,city:t.value,lat:t.lat,lng:t.lng})},e.handleAddGame=function(t){t.preventDefault();var a,n=t.target.date.value,r=e.state.location,l=t.target.time.value,s=e.state.city,c=e.state.lat,i=e.state.lng,m=t.target.maxPlayers.value;a="No team selected"===t.target.team.value?e.state.loggedInUser._id:t.target.team.value.split(","),p.a.post("".concat(h,"/create-game"),{date:n,time:l,location:r,city:s,lat:c,lng:i,maxPlayers:m,createdBy:e.state.loggedInUser.username,players:a},{withCredentials:!0}).then((function(t){console.log("GOT GAME"),e.setState({games:[].concat(Object(o.a)(e.state.games),[t.data])},(function(){e.props.history.push("/user-main")}))})).catch((function(e){401===e.response.status&&console.log(e.response.status)}))},e}return Object(i.a)(a,[{key:"getUser",value:function(){var e=this;p.a.get("".concat(h,"/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})}))}},{key:"getUsers",value:function(){var e=this;p.a.get("".concat(h,"/users"),{withCredentials:!0}).then((function(t){e.setState({users:t.data})}))}},{key:"componentDidMount",value:function(){this.getGames(),this.getUsers(),console.log("MOUNTED"+this.state.loggedInUser),this.state.loggedInUser||this.getUser(),console.log(this.state)}},{key:"render",value:function(){var e=this,t=this.state.loggedInUser;return r.a.createElement("div",null,r.a.createElement(B,{loggedInUser:this.state.loggedInUser,onLogout:this.handleLogout}),r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/",render:function(){return r.a.createElement(L,{games:e.state.games,loggedInUser:e.state.loggedInUser,users:e.state.users,getGames:e.getGames})}}),r.a.createElement(g.b,{path:"/sign-in",render:function(){return r.a.createElement(_,{onSignIn:e.handleSignIn})}}),r.a.createElement(g.b,{path:"/sign-up",render:function(){return r.a.createElement(H,{onSignUp:e.handleSignUp})}}),r.a.createElement(g.b,{path:"/edit-profile",render:function(){return r.a.createElement(f,{loggedInUser:t,games:e.state.games,users:e.state.users})}}),r.a.createElement(g.b,{path:"/user-main",render:function(){return r.a.createElement(R,{loggedInUser:t,games:e.state.games,users:e.state.users})}}),r.a.createElement(g.b,{path:"/team-info",render:function(a){return r.a.createElement($,Object.assign({loggedInUser:t},a,{users:e.state.users,games:e.state.games}))}}),r.a.createElement(g.b,{path:"/create-game",render:function(){return r.a.createElement(W,{loggedInUser:t,onAddGame:e.handleAddGame,useTeam:e.handleUseTeam,handleLocationInput:e.handleLocationInput})}}),r.a.createElement(g.b,{exact:!0,path:"/game-detail/:gameId",render:function(a){return r.a.createElement(q,Object.assign({loggedInUser:t},a,{users:e.state.users}))}}),r.a.createElement(g.b,{exact:!0,path:"/:gameId/admin",render:function(a){return r.a.createElement(z,Object.assign({loggedInUser:t},a,{users:e.state.users}))}}),r.a.createElement(g.b,{path:"/:gameId/admin/team-detail",render:function(a){return r.a.createElement(J,Object.assign({loggedInUser:t},a,{users:e.state.users}))}}),r.a.createElement(g.b,{path:"/each-team/:teamId",render:function(a){return r.a.createElement(Z,Object.assign({loggedInUser:t},a,{users:e.state.users}))}})))}}]),a}(r.a.Component),te=Object(g.g)(ee);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(j.a,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.041d9d9e.chunk.js.map